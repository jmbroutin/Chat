{"version":3,"sources":["App.js","components/Chat.js","index.js"],"names":["App","state","username","event","this","setState","target","value","console","log","path","props","history","push","_this2","react_default","a","createElement","className","type","name","onChange","handleChange","bind","onClick","nextPath","Component","withRouter","Chat","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","match","params","userName","message","messages","users","socket","io","on","data","addMessage","login","numbUsers","addnumbusers","logout","concat","toConsumableArray","sendMessage","ev","preventDefault","emit","author","map","placeholder","React","routing","react_router_dom","react_router","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ddb97a31.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {withRouter} from 'react-router-dom';\n\nclass App extends Component {\n  \n    state={\n      username: ''\n    }\n    handleChange(event) {\n      this.setState({username: event.target.value})\n    console.log(this.state.username)}\n\n    nextPath(path) {\n      this.props.history.push(path);\n    }\n  \n    render() {\n      return (\n        <div className=\"App\">\n       <header className=\"App-header\">\n         <h1>Welcome to the chat</h1>\n         <p>Please enter your name</p>\n           <input type=\"text\" name=\"login\" value={this.state.username} \n            onChange={this.handleChange.bind(this)}/>\n           <button type=\"button\" className=\"btn btn-primary\" onClick={() =>{\n              this.nextPath('/chat/' + this.state.username );\n               }}>Enter</button>\n       </header>\n    </div>\n\n      );\n    }\n  }\n  \n  export default withRouter(App);\n","import React from \"react\";\nimport {withRouter} from 'react-router-dom';\nimport io from \"socket.io-client\";\n\nclass Chat extends React.Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            username: this.props.match.params.userName,\n            message: '',\n            messages: [],\n            users: ''\n        };\n\n        this.socket = io('localhost:8080');\n\n        this.socket.on('RECEIVE_MESSAGE', function(data){\n            addMessage(data);\n        });\n\n        this.socket.on('NewConnect', function (login,numbUsers){\n            console.log(login);\n            console.log(numbUsers + ' utilisateurs connectés');\n            addnumbusers(numbUsers);\n        });\n\n        this.socket.on('Disconnect', function (logout,numbUsers){\n            console.log(logout);\n            console.log(numbUsers + ' utilisateurs connectés');\n            addnumbusers(numbUsers);\n        });\n\n        const addnumbusers = numbUsers => {\n            this.setState({users: numbUsers});\n        }\n\n        const addMessage = data => {\n            console.log(data);\n            this.setState({messages: [...this.state.messages, data]});\n            console.log(this.state.messages);\n        };\n\n        this.sendMessage = ev => {\n            ev.preventDefault();\n            this.socket.emit('SEND_MESSAGE', {\n                author: this.state.username,\n                message: this.state.message\n            })\n            this.setState({message: ''});\n        }}\n\n        nextPath(path) {\n            this.props.history.push(path);\n          }\n\n    render(){\n        let userName = this.props.match.params.userName;\n        \n        console.log(userName);\n        return (\n            <div className=\"container\">\n                <div className=\"header\">\n                <h1>Welcome {userName}</h1>\n                </div>\n                \n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"card\">\n                            <p> {this.state.users} users connected</p>\n                            <div className=\"card-body\">\n                                <div className=\"card-title\">Global Chat</div>\n                                <hr/>\n                                <div className=\"messages\">\n                                    {this.state.messages.map(message => {\n                                        return (\n                                            <div>{message.author}: {message.message}</div>\n                                        )\n                                    })}\n                                </div>\n\n                            </div>\n                            <div className=\"card-footer\">\n                                <input type=\"text\" placeholder=\"Your message\" className=\"form-control\" value={this.state.message} onChange={ev => this.setState({message: ev.target.value})}/>\n                                <br/>\n                                <button onClick={this.sendMessage} className=\"btn btn-primary form-control\">Send</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Chat);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport Chat from './components/Chat';\n\nconst routing = (\n  <Router>\n    <div>\n      <Route exact path=\"/\" component={App} />\n      <Route path=\"/chat/:userName\" component={Chat} />\n    </div>\n  </Router>\n)\nReactDOM.render(routing, document.getElementById('root'))"],"sourceRoot":""}